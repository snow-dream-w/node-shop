{"version":3,"sources":["webpack:///./src/views/Home.vue?7502","webpack:///./src/views/Home.vue?fb74","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?2b8c","webpack:///./src/views/Home.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","key","id","on","$event","handleGoodsInfo","_id","attrs","images","_v","_s","name","_f","price","sales","currentPage","total","handleSizeChange","handleCurrentChange","staticRenderFns","data","limit","page","list","methods","val","init","axios","$router","replace","watch","goods_type","newVal","filters","money","toFixed","computed","created","component"],"mappings":"gHAAA,yBAA8hB,EAAG,G,yCCAjiB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAIP,EAAQ,KAAE,SAASQ,GAAM,OAAOJ,EAAG,KAAK,CAACK,IAAID,EAAKE,GAAGC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOZ,EAAIa,gBAAgBL,EAAKM,QAAQ,CAACV,EAAG,MAAM,CAACW,MAAM,CAAC,IAAMP,EAAKQ,OAAO,MAAMZ,EAAG,IAAI,CAACJ,EAAIiB,GAAGjB,EAAIkB,GAAGV,EAAKW,SAASf,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,OAAO,CAACE,YAAY,SAAS,CAACN,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAIoB,GAAG,QAAPpB,CAAgBQ,EAAKa,WAAWjB,EAAG,OAAO,CAACE,YAAY,OAAO,CAACN,EAAIiB,GAAGjB,EAAIkB,GAAGV,EAAKc,OAAO,eAAelB,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,gBAAgB,CAACW,MAAM,CAAC,eAAef,EAAIuB,YAAY,aAAa,CAAC,EAAG,GAAI,IAAI,YAAY,IAAI,OAAS,0CAA0C,MAAQvB,EAAIwB,OAAOb,GAAG,CAAC,cAAcX,EAAIyB,iBAAiB,iBAAiBzB,EAAI0B,wBAAwB,IAAI,MACtzBC,EAAkB,G,0nBC2BtB,OACER,KAAM,OACNS,KAFF,WAGI,MAAO,CACLL,YAAa,EACbC,MAAO,EACPK,MAAO,EACPC,KAAM,EACNC,KAAM,KAGVC,QAAS,CACPP,iBADJ,SACA,GAEMxB,KAAK4B,MAAQI,EACbhC,KAAKiC,QAEPR,oBANJ,SAMA,cACMzB,KAAKkC,MACX,oBACQ,OAAR,CACU,MAAV,EACU,OAAV,EACU,KAAV,OAGA,iBACA,mBACU,EAAV,iBACU,EAAV,oBAEU,MAAV,QAIItB,gBAxBJ,SAwBA,GACMZ,KAAKmC,QAAQC,QAAQ,UAAY3B,IAEnCwB,KA3BJ,SA2BA,cACMjC,KAAKkC,MACX,oBACQ,OAAR,CACU,KAAV,EACU,MAAV,WACU,OAAV,KAGA,iBACA,mBACU,EAAV,iBACU,EAAV,oBAEU,MAAV,SAKEG,MAAO,CACLC,WAAY,SAAhB,KACMtC,KAAKiC,KAAKM,KAGdC,QAAS,CACPC,MADJ,SACA,GACM,MAAO,IAAMd,EAAKe,QAAQ,KAG9BC,SAAU,EAAZ,GACA,gBACI,WAAJ,gBAGEC,QAxEF,WAyEI5C,KAAKiC,KAAKjC,KAAKsC,cCrG2T,I,wBCQ1UO,EAAY,eACd,EACA/C,EACA4B,GACA,EACA,KACA,WACA,MAIa,aAAAmB,E","file":"js/chunk-9be7143e.dcff2609.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=d675dd84&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=d675dd84&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home clearfix\"},[_c('ul',[_vm._l((_vm.list),function(item){return _c('li',{key:item.id,on:{\"click\":function($event){return _vm.handleGoodsInfo(item._id)}}},[_c('img',{attrs:{\"src\":item.images[0]}}),_c('p',[_vm._v(_vm._s(item.name))]),_c('div',{staticClass:\"bottom\"},[_c('span',{staticClass:\"money\"},[_vm._v(_vm._s(_vm._f(\"money\")(item.price)))]),_c('span',{staticClass:\"num\"},[_vm._v(_vm._s(item.sales)+\"人付款\")])])])}),_c('div',{staticClass:\"block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[8, 12, 16],\"page-size\":100,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home clearfix\">\n    <ul>\n      <li v-for=\"item in list\" :key=\"item.id\" @click=\"handleGoodsInfo(item._id)\">\n        <img :src=\"item.images[0]\" />\n        <p>{{ item.name }}</p>\n        <div class=\"bottom\">\n          <span class=\"money\">{{ item.price | money }}</span>\n          <span v-cloak class=\"num\">{{ item.sales }}人付款</span>\n        </div>\n      </li>\n      <div class=\"block\">\n        <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"currentPage\"\n          :page-sizes=\"[8, 12, 16]\"\n          :page-size=\"100\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\"\n        ></el-pagination>\n      </div>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"home\",\n  data() {\n    return {\n      currentPage: 0,\n      total: 0,\n      limit: 8, //此条仅为限制数组\n      page: 1, //当前页\n      list: []\n    };\n  },\n  methods: {\n    handleSizeChange(val) {\n      // console.log(`每页 ${val} 条`);\n      this.limit = val;\n      this.init();\n    },\n    handleCurrentChange(val) {\n      this.axios\n        .get(\"/goods/query\", {\n          params: {\n            limit: 8,\n            status: 1,\n            skip: val - 1\n          }\n        })\n        .then(result => {\n          if (result.data.status === 1) {\n            this.list = result.data.data;\n            this.total = result.data.count;\n          } else {\n            alert(404);\n          }\n        });\n    },\n    handleGoodsInfo(id) {\n      this.$router.replace(\"/goods/\" + id);\n    },\n    init(goods_type) {\n      this.axios\n        .get(\"/goods/query\", {\n          params: {\n            type: goods_type,\n            limit: this.limit,\n            status: 1\n          }\n        })\n        .then(result => {\n          if (result.data.status === 1) {\n            this.list = result.data.data;\n            this.total = result.data.count;\n          } else {\n            alert(404);\n          }\n        });\n    }\n  },\n  watch: {\n    goods_type: function(newVal, oldVal) {\n      this.init(newVal)\n    }\n  },\n  filters: {\n    money(data) {\n      return \"￥\" + data.toFixed(2);\n    }\n  },\n  computed: {\n    ...mapGetters({\n      goods_type: \"goods_type\"\n    })\n  },\n  created() {\n    this.init(this.goods_type);\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.home {\n  min-height: 400px;\n  ul {\n    float: right;\n    width: 940px;\n    li {\n      float: left;\n      margin: 10px 1%;\n      width: 23%;\n      height: 300px;\n      border: 1px solid #ddd;\n      border-radius: 3px;\n      cursor: pointer;\n      img {\n        padding: 1px;\n        width: 100%;\n        height: 72%;\n        background: rgb(204, 225, 233);\n      }\n      p {\n        margin: 5px auto 5px 10px;\n        line-height: 50px;\n      }\n      .bottom {\n        width: 100%;\n        padding: 0 10px;\n        box-sizing: border-box;\n        .money {\n          display: block;\n          float: left;\n          color: red;\n        }\n        .num {\n          display: block;\n          float: right;\n        }\n      }\n    }\n    .block {\n      float: right;\n      margin-top: 10px;\n      width: 940px;\n      text-align: center;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=d675dd84&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=d675dd84&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d675dd84\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}