(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ed67bb06"],{"6e55":function(t,e,a){"use strict";var l=a("818c"),n=a.n(l);n.a},"818c":function(t,e,a){},a10a:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("span",{staticClass:"title"},[t._v("我的购物车")]),a("el-divider",{staticClass:"divider"}),a("div",{staticClass:"tables"},[a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"图片",width:"140"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.goodsId.images[0],width:"50px"}})]}}])}),a("el-table-column",{attrs:{prop:"goodsId.name",label:"名称",width:"160"}}),a("el-table-column",{attrs:{prop:"goodsId.price",label:"单价",width:"120"}}),a("el-table-column",{attrs:{label:"数量",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{attrs:{min:1,max:e.row.goodsId.inventoryNum,label:"描述文字"},on:{change:function(a){return t.handleChange(e.row.id)}},model:{value:e.row.num,callback:function(a){t.$set(e.row,"num",a)},expression:"scope.row.num"}})]}}])}),a("el-table-column",{attrs:{prop:"goodsId.inventoryNum",label:"库存/件",width:"100"}}),a("el-table-column",{attrs:{prop:"goodsId.unit",label:"单位",width:"100"}}),a("el-table-column",{attrs:{label:"小计",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("￥"+t._s(e.row.num*e.row.goodsId.price.toFixed(2)))])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),a("div",{staticClass:"button"},[a("el-button",[t._v("清空购物车")]),a("el-button",{on:{click:function(e){return t.toggleSelection()}}},[t._v("取消选择")]),a("div",{staticStyle:{float:"right",width:"200px"}},[t._v("\n      总计\n      "),a("span",{staticStyle:{color:"red"}},[t._v("￥"+t._s(t.tatal.toFixed(2)))]),t._v(" \n      "),a("el-button",{attrs:{type:"primary"},on:{click:t.carSettle}},[t._v("结算")])],1)],1)],1)},n=[],o=(a("c5f6"),{name:"Cart",data:function(){return{tableData:[{id:1,goodsId:{images:[],name:"Vue套餐",price:15.99,inventoryNum:10,unit:"斤",money:0},num:2}],multipleSelection:[],tatal:0}},methods:{toggleSelection:function(){this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(t){for(var e in this.multipleSelection=t,this.tatal=0,t)this.tatal+=t[e].goodsId.price*t[e].num},handleDelete:function(t,e){this.axios.delete("/car/delete/"+e._id).then(function(t){console.log(t)})},handleChange:function(t){var e=new Number(t);this.$refs.multipleTable.toggleRowSelection(this.tableData[e-1]),this.$refs.multipleTable.toggleRowSelection(this.tableData[e-1])},carSettle:function(){this.$router.push("/choose_address")}},created:function(){var t=this;this.axios.get("/car/get").then(function(e){t.tableData=e.data.data;for(var a=0;a<t.tableData.length;a++)t.tableData[a]["id"]=a+1})}}),i=o,s=(a("6e55"),a("2877")),r=Object(s["a"])(i,l,n,!1,null,"82940fd8",null);e["default"]=r.exports}}]);
//# sourceMappingURL=chunk-ed67bb06.6917d0e6.js.map