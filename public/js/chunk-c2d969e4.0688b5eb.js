(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c2d969e4"],{"2f21":function(t,e,a){"use strict";var n=a("79e5");t.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},5039:function(t,e,a){"use strict";var n=a("f54d"),s=a.n(n);s.a},"55dd":function(t,e,a){"use strict";var n=a("5ca1"),s=a("d8e8"),i=a("4bf8"),r=a("79e5"),d=[].sort,l=[1,2,3];n(n.P+n.F*(r(function(){l.sort(void 0)})||!r(function(){l.sort(null)})||!a("2f21")(d)),"Array",{sort:function(t){return void 0===t?d.call(i(this)):d.call(i(this),s(t))}})},"900e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"#app"},[a("div",{staticClass:"hover clearfix"},[a("div",{staticClass:"content"},[a("person-avatar"),a("div",{staticClass:"title"},[a("span",{staticStyle:{fontSize:"20px",fontWeight:"bold",lineHeight:"80px"}},[t._v(" 管理收货地址")]),a("div",{staticStyle:{float:"right",margin:"15px 10px 0 0"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.$refs.addressEdit.isShow("add")}}},[t._v("新增地址")])],1)]),a("div",{staticClass:"address"},[a("el-table",{attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"收货人",width:"80"}}),a("el-table-column",{attrs:{prop:"telephone",label:"联系方式",width:"120"}}),a("el-table-column",{attrs:{prop:"address.area",label:"地区",width:"170"}}),a("el-table-column",{attrs:{prop:"address.details",label:"详细地址",width:"230"}}),a("el-table-column",{attrs:{prop:"post",label:"邮编",width:"80"}}),a("el-table-column",{attrs:{prop:"defaultAddress",label:"默认地址",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:e.row.primary,size:"mini"},on:{click:function(a){return t.handleDefault(e.row._id)}}},[t._v(t._s(e.row.defaultAddress))])]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleQuery(e.row)}}},[t._v("查看")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleEdit(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleDelete(e.row._id)}}},[t._v("删除")])]}}])})],1)],1)],1)]),a("edit-address",{ref:"addressEdit",on:{initParent:t.init}})],1)},s=[],i=(a("55dd"),a("ac6a"),a("121a")),r={data:function(){return{tableData:[]}},methods:{handleQuery:function(t){this.$refs.addressEdit.isShow("query"),this.$refs.addressEdit.init(t)},handleEdit:function(t){this.$refs.addressEdit.isShow("edit"),this.$refs.addressEdit.init(t)},handleDefault:function(t){var e=this;this.axios.post("/address/default",{_id:t}).then(function(t){1===t.data.status?e.init():e.$message.error("设置默认地址失败，请重新尝试")}).catch(function(t){e.$router.push("/*")})},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该地址, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.addressDelete(t)}).catch(function(){e.$message({type:"info",message:"已取消删除操作"})})},addressDelete:function(t){var e=this;this.axios.delete("/address/delete/"+t).then(function(t){1===t.data.status?(e.$message({type:"success",message:"地址删除成功!"}),e.init()):e.$message({type:"warning",message:"默认地址不可删除！"})}).catch(function(t){e.$router.push("/*")})},init:function(){var t=this;this.axios.get("/address/get/10").then(function(e){1===e.data.status?(e.data.data.forEach(function(t,a){1===t.defaultAddress?(e.data.data[a].defaultAddress="默认地址",e.data.data[a]["primary"]="primary"):(e.data.data[a].defaultAddress="设为默认",e.data.data[a]["primary"]="info")}),t.tableData=e.data.data,t.tableData.sort(function(t,e){return new Date(e.updatedAt).getTime()-new Date(t.updatedAt).getTime()})):t.$message.error("数据请求失败，请刷新重新尝试")}).catch(function(e){t.$router.push("/*")})}},components:{EditAddress:i["a"]},created:function(){this.init()}},d=r,l=(a("5039"),a("2877")),o=Object(l["a"])(d,n,s,!1,null,"496963da",null);e["default"]=o.exports},f54d:function(t,e,a){}}]);
//# sourceMappingURL=chunk-c2d969e4.0688b5eb.js.map