(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12dd6fb2"],{"251e":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"order"},[e("div",{staticClass:"orderDetail"},[e("div",{staticClass:"title"},[t._v("订单详情")]),e("div",{staticClass:"content"},[e("div",{staticClass:"info"},[e("div",{staticClass:"address"},[t._v("\n          收货信息：\n          "),e("span",[e("span",[t._v(t._s(t.tableData[0]&&t.tableData[0].telephone))]),e("span",[t._v(" "+t._s(t.tableData[0]&&t.tableData[0].name))]),e("br"),e("span",[t._v("     "+t._s(t.tableData[0]&&t.tableData[0].address.area.join(" "))+" "+t._s(t.tableData[0]&&t.tableData[0].address.details))])])]),e("hr"),e("div",{staticClass:"orderInfo"},[e("span",[t._v("订单金额：")]),e("span",{staticClass:"name",staticStyle:{color:"red"}},[t._v(t._s(t.tableData[0]&&t.tableData[0].total.toFixed(2)))]),e("br"),e("span",[t._v("订单编号：")]),e("span",{staticClass:"name"},[t._v(t._s(t.tableData[0]&&t.tableData[0]._id))]),e("br"),e("span",[t._v("下单时间：")]),e("span",{staticClass:"name"},[t._v(t._s(t._f("formatDate")(t.tableData[0]&&t.tableData[0].updatedAt,"")))])])]),e("div",{staticClass:"status"},[e("span",{staticStyle:{lineHeight:"40px"}},[t._v("订单状态："+t._s(t.tableData[0]&&t.statusEnum[t.tableData[0].status]))]),e("div",[t._v("\n          您可以：\n          "),t.tableData[0]&&1===t.tableData[0].status?e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.goPay(t.tableData[0]._id)}}},[t._v("去付款")]):t._e(),t.tableData[0]&&1===t.tableData[0].status?e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.confirmCancel(t.tableData[0]._id)}}},[t._v("取消订单")]):t._e(),t.tableData[0]&&2===t.tableData[0].status?e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.$message({type:"success",message:"提醒商家成功！"})}}},[t._v("提醒商家发货")]):t._e(),t.tableData[0]&&3===t.tableData[0].status?e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.$message.error("确认收货，暂不可用")}}},[t._v("确认收货")]):t._e(),t.tableData[0]&&3===t.tableData[0].status?e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.$message.error("查看物流，暂不可用")}}},[t._v("查看物流(暂不可用)")]):t._e(),!t.tableData[0]||0!==t.tableData[0].status&&4!=t.tableData[0].status?t._e():e("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){return t.confirmDelete(t.tableData[0]._id)}}},[t._v("删除订单")])],1)])])]),e("div",{staticClass:"title",staticStyle:{marginTop:"15px"}},[t._v("商品信息")]),e("div",{staticClass:"address"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",id:"table"}},[e("el-table-column",{attrs:{label:"商品",width:"879"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-table",{staticStyle:{width:"100%"},attrs:{data:a.row.goodsInfo,border:""}},[e("el-table-column",{attrs:{width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.axios.defaults.baseURL+a.row.goodsId.images[0]}})]}}],null,!0)}),e("el-table-column",{attrs:{label:"名称",prop:"goodsId.name",width:"180"}}),e("el-table-column",{attrs:{label:"单价",width:"140"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row.goodsId.price.toFixed(2)))]}}],null,!0)}),e("el-table-column",{attrs:{label:"数量",prop:"num",width:"140"}}),e("el-table-column",{attrs:{label:"单位",prop:"goodsId.unit",width:"140"}}),e("el-table-column",{attrs:{label:"操作",width:"135"},scopedSlots:t._u([{key:"default",fn:function(a){return[2===a.row.status&&t.tableData[0]&&4===t.tableData[0].status?e("el-button",{attrs:{type:"primary",size:"small"}},[t._v("评价商品")]):t._e(),3===a.row.status&&t.tableData[0]&&4===t.tableData[0].status?e("el-button",{attrs:{type:"primary",size:"small"}},[t._v("追评")]):t._e(),4===a.row.status&&t.tableData[0]&&4===t.tableData[0].status?e("el-button",{attrs:{type:"text",size:"small"}},[t._v("修改评论(暂不可用)")]):t._e()]}}],null,!0)})],1)]}}])}),e("el-table-column",{attrs:{label:"实付款",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.row.total.toFixed(2)))]}}])}),e("el-table-column",{attrs:{label:"订单状态",width:"125"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(t.statusEnum[a.row.status]))]}}])})],1)],1)])},n=[],l={data:function(){return{tableData:[],statusEnum:["已取消","待付款","待发货","已发货","已完成"]}},filters:{formatDate:function(t){var a=new Date(t),e=a.getFullYear(),s=a.getMonth()+1,n=a.getDate(),l=a.getHours(),r=a.getMinutes(),i=a.getSeconds();return e+"-"+s+"-"+n+" "+l+":"+r+":"+i}},methods:{goPay:function(t){this.$router.push("/pay_order/".concat(t))},confirmCancel:function(t){var a=this;this.$confirm("确认取消订单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.cancelOrder(t)}).catch(function(){a.$message({type:"info",message:"已取消操作"})})},confirmDelete:function(t){var a=this;this.$confirm("删除订单不可恢复, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deleteOrder(t)}).catch(function(){a.$message({type:"info",message:"已取消操作"})})},cancelOrder:function(t){var a=this;this.axios.post("/order/cancel",{_id:t}).then(function(t){1===t.data.status?(a.$message({type:"success",message:"订单取消成功"}),a.tableData[0].status=0):a.$message.error("订单取消失败，请重新尝试！")})},deleteOrder:function(t){var a=this;this.axios.delete("/order/delete/".concat(t)).then(function(t){1===t.data.status?(a.$message({type:"success",message:"订单删除成功"}),a.$router.push("/person/order")):a.$message.error("订单删除失败，请重新尝试！")})},initOrder:function(t){var a=this;this.axios.get("/order/get/".concat(t)).then(function(t){1===t.data.status?a.tableData.push(t.data.data):a.$router.push("/*")})}},created:function(){var t=this.$route.params.id;this.initOrder(t)}},r=l,i=(e("ad41"),e("2877")),o=Object(i["a"])(r,s,n,!1,null,"66b8fe2e",null);a["default"]=o.exports},ad41:function(t,a,e){"use strict";var s=e("db46"),n=e.n(s);n.a},db46:function(t,a,e){}}]);
//# sourceMappingURL=chunk-12dd6fb2.bd178777.js.map