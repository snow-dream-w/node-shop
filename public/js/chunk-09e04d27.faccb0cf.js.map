{"version":3,"sources":["webpack:///./src/views/Home.vue?a8f0","webpack:///./src/views/Home.vue?0670","webpack:///./src/components/GoodsCard.vue?8caf","webpack:///src/components/GoodsCard.vue","webpack:///./src/components/GoodsCard.vue?1a86","webpack:///./src/components/GoodsCard.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?2b8c","webpack:///./src/views/Home.vue","webpack:///./src/components/GoodsCard.vue?2cdb"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","key","id","attrs","currentPage","total","on","handleSizeChange","handleCurrentChange","staticRenderFns","$event","handleGoodsInfo","_id","axios","defaults","baseURL","images","_v","_s","name","_f","price","sales","props","type","Object","default","data","filters","money","toFixed","methods","$router","replace","component","limit","page","list","val","init","getRecommend","get","then","result","status","referGoods","menu","login_status","push","$message","message","watch","goods_type","newVal","$store","dispatch","computed","components","GoodsCard","created","$route","query"],"mappings":"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","file":"js/chunk-09e04d27.faccb0cf.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=19511c5b&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=19511c5b&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home clearfix\"},[_c('ul',[_vm._l((_vm.list),function(item){return _c('GoodsCard',{key:item.id,attrs:{\"item\":item}})}),_c('div',{staticClass:\"block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[8, 12, 16],\"page-size\":100,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{on:{\"click\":function($event){return _vm.handleGoodsInfo(_vm.item._id)}}},[_c('img',{attrs:{\"src\":_vm.axios.defaults.baseURL + _vm.item.images[0]}}),_c('p',[_vm._v(_vm._s(_vm.item.name))]),_c('div',{staticClass:\"bottom\"},[_c('span',{staticClass:\"money\"},[_vm._v(_vm._s(_vm._f(\"money\")(_vm.item.price)))]),_c('span',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.item.sales)+\"人付款\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <li @click=\"handleGoodsInfo(item._id)\">\r\n    <img :src=\"axios.defaults.baseURL + item.images[0]\" />\r\n    <p>{{ item.name }}</p>\r\n    <div class=\"bottom\">\r\n      <span class=\"money\">{{ item.price | money }}</span>\r\n      <span v-cloak class=\"num\">{{ item.sales }}人付款</span>\r\n    </div>\r\n  </li>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    item: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      \r\n    }\r\n  },\r\n  filters: {\r\n    money(data) {\r\n      return \"￥\" + data.toFixed(2);\r\n    }\r\n  },\r\n  methods: {\r\n    handleGoodsInfo(id) {\r\n      this.$router.replace(\"/goods/\" + id);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\nli {\r\n  float: left;\r\n  margin: 10px 1%;\r\n  width: 23%;\r\n  height: 300px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 3px;\r\n  cursor: pointer;\r\n\r\n  img {\r\n    padding: 1px;\r\n    width: 100%;\r\n    height: 72%;\r\n    background: rgb(204, 225, 233);\r\n  }\r\n\r\n  p {\r\n    margin: 5px auto 5px 10px;\r\n    line-height: 50px;\r\n  }\r\n\r\n  .bottom {\r\n    width: 100%;\r\n    padding: 0 10px;\r\n    box-sizing: border-box;\r\n\r\n    .money {\r\n      display: block;\r\n      float: left;\r\n      color: red;\r\n    }\r\n\r\n    .num {\r\n      display: block;\r\n      float: right;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GoodsCard.vue?vue&type=template&id=dde8f5d8&scoped=true&\"\nimport script from \"./GoodsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./GoodsCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GoodsCard.vue?vue&type=style&index=0&id=dde8f5d8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dde8f5d8\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"home clearfix\">\n    <ul>\n      <!-- <li v-for=\"item in list\" :key=\"item.id\" @click=\"handleGoodsInfo(item._id)\">\n        <img :src=\"axios.defaults.baseURL + item.images[0]\" />\n        <p>{{ item.name }}</p>\n        <div class=\"bottom\">\n          <span class=\"money\">{{ item.price | money }}</span>\n          <span v-cloak class=\"num\">{{ item.sales }}人付款</span>\n        </div>\n      </li>-->\n      <GoodsCard v-for=\"item in list\" :key=\"item.id\" :item=\"item\" />\n      <div class=\"block\">\n        <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"currentPage\"\n          :page-sizes=\"[8, 12, 16]\"\n          :page-size=\"100\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\"\n        ></el-pagination>\n      </div>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport GoodsCard from \"@/components/GoodsCard\";\nexport default {\n  name: \"home\",\n  data() {\n    return {\n      currentPage: 0,\n      total: 0,\n      limit: 8, //此条仅为限制数组\n      page: 1, //当前页\n      list: []\n    };\n  },\n  methods: {\n    handleSizeChange(val) {\n      // console.log(`每页 ${val} 条`);\n      this.limit = val;\n      this.init();\n    },\n    handleCurrentChange(val) {\n      this.axios\n        .get(\"/goods/query\", {\n          params: {\n            limit: 8,\n            status: 1,\n            skip: val - 1\n          }\n        })\n        .then(result => {\n          if (result.data.status === 1) {\n            this.list = result.data.data;\n            this.total = result.data.count;\n          } else {\n            alert(404);\n          }\n        });\n    },\n    // handleGoodsInfo(id) {\n    //   this.$router.replace(\"/goods/\" + id);\n    // },\n    init(goods_type) {\n      this.axios\n        .get(\"/goods/query\", {\n          params: {\n            type: goods_type,\n            limit: this.limit,\n            status: 1\n          }\n        })\n        .then(result => {\n          if (result.data.status === 1) {\n            this.list = result.data.data;\n            this.total = result.data.count;\n          } else {\n            alert(404);\n          }\n        });\n    },\n    getRecommend() {\n      this.axios.get(\"/goods/recommend/user\").then(result => {\n        if (result.data.status === 1) {\n          this.list = result.data.data;\n          this.total = result.data.count;\n        } else {\n          this.$message.error(\"暂无推荐商品\");\n        }\n      });\n    },\n    referGoods(menu) {\n      switch (menu) {\n        case \"home\":\n          this.init();\n          break;\n        case \"recommend\":\n          if (this.login_status === true) {\n            this.$router.push(\"/login_register/login\");\n            break;\n          }\n          this.getRecommend();\n          break;\n        case \"new\":\n          this.$message({\n            type: \"warning\",\n            message: \"此功能暂不可用\"\n          });\n          break;\n        case \"hot\":\n          this.$message({\n            type: \"warning\",\n            message: \"此功能暂不可用\"\n          });\n          break;\n        case \"precent\":\n          this.$message({\n            type: \"warning\",\n            message: \"此功能暂不可用\"\n          });\n          break;\n      }\n    }\n  },\n  watch: {\n    goods_type: function(newVal, oldVal) {\n      if (newVal) {\n        this.init(newVal);\n      }\n    },\n    \"$route.query.menu\"(newVal, oldVal) {\n      this.$store.dispatch(\"changeAnsyc_goods_type\", \"\");\n      this.referGoods(newVal);\n    }\n  },\n  computed: {\n    ...mapGetters({\n      goods_type: \"goods_type\",\n      login_status: \"login_status\"\n    })\n  },\n  components: {\n    GoodsCard\n  },\n  created() {\n    if (this.$route.query.menu) {\n      this.referGoods(this.$route.query.menu);\n    } else {\n      this.init(this.goods_type);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.home {\n  min-height: 450px;\n  ul {\n    float: right;\n    width: 940px;\n    .block {\n      float: right;\n      margin-top: 10px;\n      width: 940px;\n      text-align: center;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=19511c5b&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=19511c5b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"19511c5b\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsCard.vue?vue&type=style&index=0&id=dde8f5d8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsCard.vue?vue&type=style&index=0&id=dde8f5d8&lang=scss&scoped=true&\""],"sourceRoot":""}